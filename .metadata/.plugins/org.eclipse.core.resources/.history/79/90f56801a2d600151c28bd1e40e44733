import java.util.ArrayList;
import java.util.Iterator;
import java.util.List;
import java.util.SortedSet;
import java.util.TreeSet;

public class Test111 {

	public static void main(String[] args) {
		String test="thisfoobarisbarfoo";
		String[] words = {"foo", "bar"};
		List<Integer> result = new ArrayList<Integer>();
		SortedSet<Integer> tempSet = new TreeSet<Integer>();
		System.out.println(wordConcat(test, words, result, tempSet, 0));

	}

	private static List<Integer> wordConcat(String test,String[] words, List<Integer> result, SortedSet<Integer> tempSet,int start) {

		int length = words[0].length();
		
		if(tempSet.last()+length > test.length())
			return result;	

		for(int i=0;i<words.length;i++)
			tempSet.add(test.indexOf(words[i], start));
		
		if(tempSet.size()>1){
			Iterator<Integer> iter = tempSet.iterator();
			int lastVal = iter.next();
			while(iter.hasNext()){
			int tempVal = iter.next();
			if(lastVal+length  != tempVal){
				wordConcat(test, words, result, tempSet, tempSet.last()+length);
			}
			lastVal = tempVal;		
			}
		}
		result.add(tempSet.first());
		return result;
	}

}
